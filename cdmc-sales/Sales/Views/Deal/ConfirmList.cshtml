@using Entity
@{
    ViewBag.Title = "出单到账确认";
}
@Html.Partial("contenttitle", "出单到账确认")
@(Html.Telerik().Grid<Model.AjaxViewDeal>().Name("Grid")
.DataKeys(keys => { keys.Add(s => s.ID); })
.DataBinding(dataBinding =>
    {
        dataBinding.Ajax()
            .Select("_SelectIndex", "Deal")
            .Update("_SaveAjaxEditing", "Deal");
    })
.Columns(c =>
{
    c.Bound(item => item.CompanyName).Width(200);
    c.Bound(item => item.DealCode).Width(100);
    c.Bound(item => item.PackageName).Width(200);
    c.Bound(item => item.Payment).Width(100).Format("{0:c}");
    c.Bound(item => item.Income).Width(90).Format("{0:c}");
    c.Bound(item => item.IsClosed).Width(70);
    c.Bound(item => item.Committer).Width(100);
    c.Bound(item => item.CommitterContect).Width(100);
    c.Bound(item => item.Abandoned).Width(70);
    c.Bound(item => item.TicketDescription).Width(200);
    c.Bound(item => item.SignDate).Format("{0:d}").Width(90);
    c.Bound(item => item.ExpectedPaymentDate).Format("{0:d}").Width(90);
    c.Bound(item => item.ActualPaymentDate).Format("{0:d}").Width(100);
    c.Bound(item => item.IsConfirm).Width(100);

    c.Command(commands =>
    {
        commands.Edit().ButtonType(GridButtonType.Image);

    }).Width(100).Title("确定");
})
.Editable(editing => editing.Mode(GridEditMode.PopUp))
.Resizable(resizing => resizing.Columns(true)).Filterable().Sortable().Groupable()
.Pageable(p => p.PageSize(20)).Scrollable(scrolling => scrolling.Height(350)))
