@using Entity
@using Utl
@model List<Lead>
@(Html.Telerik().Grid<Lead>(Model).Name("Lead")
                .DataKeys(keys =>
                {
                    keys.Add(s => s.ID);
                })
                .Columns(c =>
                {
                    c.Bound(item => item.Name_EN).Width(150);
                    c.Bound(item => item.Name_CH).Width(150);
                    c.Bound(item => item.Title.Name_CH).Title("职位").Width(200);
                    c.Bound(item => item.Contact).Width(150);
                    c.Bound(item => item.ID).Title("操作").Template(@<span> <a href=@Url.Content("~/Lead/Edit/" + item.ID) >
                        编辑</a> | <a href=@Url.Content("~/Lead/Details/" + item.ID)>详细</a> | <a href=@Url.Content("~/Lead/delete/" + item.ID) >
                            删除</a> </span>);
                })
                 .DetailView(e => e.Template(
                        @<text>
                         @RenderGrid(item)
                        </text>
                    ))
                                            .Resizable(resizing => resizing.Columns(true))
                                            .Groupable()
                                            .Pageable(p => p.PageSize(20))
                                            .Sortable()
                                            .Filterable()
                                            .Scrollable(scrolling => scrolling.Height(350))
                        )
@helper RenderGrid(Lead Lead)
{ 
        Html.Telerik().TabStrip().Name("TabStrip_" + Lead.ID).SelectedIndex(0).Items(items =>
        {
            items.Add().Text("Packages").Content(@<text></text>);
            items.Add().Text("LeadSheet").Content(@<text></text>);
            items.Add().Text("Target").Content(@<text></text>);
        }
      );
}
          
   @*@(Html.Telerik().Grid(Lead).Name("Lead" + Lead.ID)
                            .Columns(c =>
                            {
                                c.Template(@<text><img  style="width:80px;height:70px" src=@Url.Content("~/Image/DisplayImage/" + item.ImageID) /></text>).Title("客户照片").Width(150);
                                c.Bound(o => o.Name_EN).Width(120);
                                c.Bound(o => o.Name_CH).Width(120);
                                c.Bound(o => o.Title.Name_EN).Title("职位").Width(120);
                                c.Bound(o => o.EMail).Title("邮箱").Width(120);
                                c.Bound(o => o.Contact).Width(200);
                                c.Bound(item => item.ID).Title("操作").Template(@<span>
                    <a href=@Url.Content("~/lead/Edit/?from=company&id=" + item.ID) >编辑</a> | <a href=@Url.Content("~/lead/Details/" + item.ID)>详细</a>  <a href=@Url.Content("~/Company/delete/" + item.ID) >删除</a> 
                   </span>);
                            })
                                               .Resizable(resizing => resizing.Columns(true))
                                               .Pageable(p => p.PageSize(20))
                                               .Sortable())*@

<p>请在公司页面下添加客户</p>
