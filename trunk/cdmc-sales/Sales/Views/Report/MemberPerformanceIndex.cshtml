@{
    ViewBag.Title = "员工考核";
}
@using Model
@using Entity
@using Utl
@model List<ViewMemberPerformance>

 @using (Html.BeginForm())
 { 
     @(Html.Telerik().Grid(Model).Name("performance").Columns(items =>
     {
         items.Bound(i => i.Name);
         items.Bound(i => i.TargetCompletePercentage);
         items.Bound(i => i.CrmAddCompletePercentage);
         items.Bound(i => i.DailyOnPhoneCompletePercentage);
         items.Bound(i => i.DailyFaxOutCompletePercentage);
         items.Bound(i => i.Rate);
         items.Bound(i => i.Total);
         //items.Bound(i => i.TargetOfMonthForMembersAmount);
         //items.Bound(i => i.CheckinsAmount);
         //items.Bound(i => i.LeadCallsCount);
         //items.Bound(i => i.BadWorkloadDaysCount);
         //items.Bound(i => i.BadWorkloadWeeksCount);
         

     }).Resizable(resizing => resizing.Columns(true)).DetailView(e =>e.Template(@<text>
     @RenderGrid(item)
     </text>))
    .Filterable().Sortable().Groupable()
    .Pageable(p => p.PageSize(20))
    .Scrollable(scrolling => scrolling.Height(400)))
 }

@helper RenderGrid(ViewMemberPerformance m)
{
      @(Html.Telerik().Grid(m.ViewMemberDayWorkloads).Name("performance"+ m.Name).Columns(items =>{
      items.Bound(i => i.Day);
      items.Bound(i => i.FaxoutCount);
      items.Bound(i => i.OnPhoneDuration);
      
      }).Filterable().Sortable().Groupable()
                      .Pageable(p => p.PageSize(m.ViewMemberDayWorkloads.Count))
            .Scrollable(scrolling => scrolling.Height(300)))
      
}
