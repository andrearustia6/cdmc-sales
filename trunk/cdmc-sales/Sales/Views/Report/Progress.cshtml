@{
    ViewBag.Title = "进度表";
}
@using Entity;
@using Utl
@using Sales.Model
@model List<Model.ViewProjectProgressAmount>
<br />
@Html.Partial("durationselector")


        @(Html.Telerik().Grid(Model).Name("ViewProjectProgressAmount").DataKeys(keys =>
                {
                   keys.Add(s => s.Project.ID);
                }).Columns(c=>{
                    c.Bound(item => item.Project.Name).Format("{0:c}").FooterTemplate(@<text>总数：</text>);
                    c.Bound(item => item.TotalDealIn).Format("{0:c}").Aggregate(item => item.Sum()).FooterTemplate(@<text>@item.Sum.Format("{0:c}")</text>);
                    c.Bound(item => item.TotalCheckIn).Format("{0:c}").Aggregate(item => item.Sum()).FooterTemplate(@<text>@item.Sum.Format("{0:c}")</text>);
                    c.Bound(item => item.DealInTarget).Format("{0:c}").Aggregate(item => item.Sum()).FooterTemplate(@<text>@item.Sum.Format("{0:c}")</text>);
                    c.Bound(item => item.DealIn).Format("{0:c}").Aggregate(item => item.Sum()).FooterTemplate(@<text>@item.Sum.Format("{0:c}")</text>);
                    c.Bound(item => item.DealInPercentage).Template(@<text>@item.DealInPercentage%</text>) ;
                    c.Bound(item => item.CheckInTarget).Format("{0:c}").Aggregate(item => item.Sum()).FooterTemplate(@<text>@item.Sum.Format("{0:c}")</text>);
                    c.Bound(item => item.CheckIn).Format("{0:c}").Aggregate(item => item.Sum()).FooterTemplate(@<text>@item.Sum.Format("{0:c}")</text>);
                    c.Bound(item => item.CheckInPercentage).Template(@<text>@item.CheckInPercentage%</text>);
                    c.Bound(item => item.NextCheckInTarget).Format("{0:c}").Aggregate(item => item.Sum()).FooterTemplate(@<text>@item.Sum.Format("{0:c}")</text>);
                    c.Bound(item => item.NextDealInTarget).Format("{0:c}").Aggregate(item => item.Sum()).FooterTemplate(@<text>@item.Sum.Format("{0:c}")</text>);
                }).Resizable(resizing => resizing.Columns(true))
                  .Sortable()
                  .Scrollable(scrolling => scrolling.Height(150)))

