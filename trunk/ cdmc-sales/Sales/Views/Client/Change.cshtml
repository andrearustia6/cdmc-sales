@model Client
@using Utl
@using Entity
<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
@Html.ValidationSummary(true)
<fieldset>
    <legend>@SR.Form</legend>
    <div class="editor-label">
            @Html.LabelFor(model => model.Name)
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.Name)
            @Html.ValidationMessageFor(model => model.Name)
        </div>
        <div class="editor-label">
            @Html.LabelFor(model => model.Title)
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.Title)
            @Html.ValidationMessageFor(model => model.Title)
        </div>
        <div class="editor-label">
            @Html.LabelFor(model => model.Contact)
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.Contact)
            @Html.ValidationMessageFor(model => model.Contact)
        </div>
        <div class="editor-label">
            @Html.Label("客户类型")
        </div>
        <div class="editor-field">
            @Html.DropDownListFor(model => model.ClientTypeID, new SelectList(CH.GetAllData<ClientType>(), "ID", "Name"), "-请选择-")
            @Html.ValidationMessageFor(model => model.ClientTypeID)
        </div>
        <div class="editor-label">
            @Html.Label("所属公司")
        </div>
        <div class="editor-label">
        @{
            int cid = (int)ViewBag.CompanyID;
            var c = CH.GetDataById<Company>(cid);
            string cn = "未发现匹配公司";
            if(c!=null)
            {
                cn = c.Name;
            } 
            @Html.Label(cn) 
            @Html.HiddenFor(m => m.CompanyID, cid)
          }
           
        </div>
        @*<div class="editor-field">
              @Html.RadioButtonFor(model => model.CompanyID, new SelectList(CH.GetAllData<Entity.Company>(), "ID", "Name"), "-请选择-")
      
            @Html.ValidationMessageFor(model => model.CompanyID)
        </div>*@
</fieldset>
@Html.Partial("editcommon", Model)
<center>
    <p>
        <input type="submit" value=@SR.Save />
        @Html.ActionLink(SR.GobackToList, "Index")
    </p>
</center>
